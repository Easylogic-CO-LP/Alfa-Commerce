<?xml version="1.0" encoding="utf-8"?>
<form addfieldprefix="Alfa\Component\Alfa\Administrator\Field">
    <fieldset name="user_details">
        <field name="user_email" label="Email" type="text" readonly="true" class="readonly" default=""/>
        <field name="user_name" label="Name" type="text" readonly="true" class="readonly" default=""/>
        <field name="id_user_group" type="hidden" default="1"/>
    </fieldset>

    <fieldset name="order_details">
        <field name="id" type="text" readonly="true" default="0" description="JGLOBAL_FIELD_ID_DESC"/>
        <field name="id_address_delivery" type="hidden" default="1"/>

        <field
                name="id_order_status" type="sql"
                input_type="list"
                required="true"
                multiple="false"
                label="COM_ALFA_FORM_LBL_ORDER_STATUSES"
                description="COM_ALFA_FORM_DESC_ORDER_STATUSES"
                layout="joomla.form.field.list-fancy-select"
                query="SELECT `id`, `name` AS val FROM `#__alfa_orders_statuses`" key_field="id" value_field="val"
        />

        <field name="original_price" label="Original Price" type="number" readonly="true" class="readonly" default=""/>


        <field name="currency" filter="safehtml" type="text" readonly="true" label="COM_ALFA_FORM_LBL_ORDER_CURRENCY"
               description="COM_ALFA_FORM_DESC_ORDER_CURRENCY" hint="COM_ALFA_FORM_LBL_ORDER_CURRENCY"/>

        <field name="total" type="number" step="0.01" label="COM_ALFA_FORM_LBL_ORDER_TOTAL"
               description="COM_ALFA_FORM_DESC_ORDER_TOTAL" hint="COM_ALFA_FORM_LBL_ORDER_TOTAL"/>

        <field name="price" filter="safehtml" type="space" readonly="true" label="COM_ALFA_FORM_LBL_ORDER_PRICE"
               hint=""/>

        <field
                name="created"
                type="calendar"
                label="COM_ALFA_FORM_ORDER_CREATED"
                class="form-control"
                translateformat="true"
                showtime="true"
                readonly="true"
                filter="user_utc"
        />

        <field
                name="created_by"
                type="user"
                label="JGLOBAL_FIELD_CREATED_BY_LABEL"
                validate="UserId"
        />

        <field
                name="modified_by"
                type="user"
                label="JGLOBAL_FIELD_MODIFIED_BY_LABEL"
                class="readonly"
                readonly="true"
                filter="unset"
                validate="UserId"
        />

        <field
                name="modified"
                type="calendar"
                label="JGLOBAL_FIELD_MODIFIED_LABEL"
                class="form-control"
                translateformat="true"
                showtime="true"
                readonly="true"
                filter="user_utc"
        />

        <field name="checked_out" type="hidden" filter="unset"/>
        <field name="checked_out_time" type="hidden" filter="unset"/>

    </fieldset>

    <fieldset name="items">
        <field
                name="items"
                type="subform"
                buttons="add,remove,move"
                class=""
                formsource="administrator/components/com_alfa/forms/order_items.xml"
                label="COM_ALFA_FORM_ORDER_ITEMS"
                description=""
                multiple="true"
                layout="joomla.form.field.subform.repeatable-table"
        />
    </fieldset>

    <fieldset name="shipment_details">

        <field name="id_shipment_method" type="hidden" default="0"/>


        <field name="shipping_address"
               label="COM_ALFA_FORM_LBL_SHIPPING_ADDRESS"
               type="text"
               readonly="true"
               class="readonly"
               default=""
        />

        <field name="state"
               label="COM_ALFA_FORM_LBL_STATE_PROVINCE"
               type="text"
               readonly="true"
               class="readonly"
               default=""
        />

        <field name="city"
               label="COM_ALFA_FORM_LBL_CITY"
               type="text"
               readonly="true"
               class="readonly"
               default=""
        />

        <field name="zip_code"
               label="COM_ALFA_FORM_LBL_ZIP_CODE"
               type="text"
               readonly="true"
               class="readonly"
               default=""
        />

    </fieldset>

    <field
            name="shipments"
            type="subform"
            buttons=""
            class=""
            formsource="administrator/components/com_alfa/forms/order_shipments.xml"
            label="COM_ALFA_FORM_ORDER_SHIPMENTS"
            hiddenLabel="true"
            description=""
            multiple="true"
            layout="joomla.form.field.subform.repeatable-table"
    />


    <fieldset name="payment_details">
        <field name="id_payment_method" type="hidden" default="0"/> <!-- TEMPORARY -->
        <field name="total_payed"
               label="Total payed ( TO BE DONE )"
               type="text"
               readonly="true"
               class="readonly"
               default=""
        />
    </fieldset>

    <field
            name="payments"
            type="subform"
            buttons=""
            class=""
            formsource="administrator/components/com_alfa/forms/order_payments.xml"
            label="COM_ALFA_FORM_ORDER_PAYMENTS"
            hiddenLabel="true"
            description=""
            multiple="true"
            layout="joomla.form.field.subform.repeatable-table"
    />

</form>
